"use strict";var CodeHighlight;!function(e){var t=function(){function e(e,t){this.code=e,this.tag=void 0,this.replaced=!1,/C_H_L/.test(e)&&t&&(this.code=e.replace(/C_H_L/g,""),this.tag=t["class"],t.fnc&&(this.replaced=!0))}return e.prototype.toString=function(){var e=this.code;if(this.replaced)return e;if(e=e.replace(/['"<>&`]/g,function(e){return"&#"+e.charCodeAt(0)+";"}),!this.tag)return e.replace(/\n/g,"&nbsp;</div><div>");var t='<span class="'+this.tag+'">',r="</span>";return t+e.replace(/\n/g,r+"</div><div>"+t)+r},e.prototype.markNoCodeAndStore=function(t,r){if(this.tag)return r.push(this);var a,n=this.code;do{if(a=void 0,t.forEach(function(e){e.index=n.search(e.start),e.index>=0&&(!a||e.index<a.index)&&(a=e)}),!a)return r.push(new e(n));var i=(a.str||"`$1`").replace(/`/g,e.M);n=n.replace(a.regex,i);var s=n.split(/(C_H_L[\w\W]+?C_H_L)/);if(s[0]&&r.push(new e(s[0])),r.push(new e(s[1],a)),n=s[2],!n)break}while(a)},e.prototype.markCodeAndStore=function(t,r){if(this.tag)return r.push(this);var a;if(t.fnc)a=this.code.replace(t.regex,t.fnc);else{var n=(t.str||"`$1`").replace(/`/g,e.M);a=this.code.replace(t.regex,n)}var i=a.split(/(C_H_L[\w\W]+?C_H_L)/);i.forEach(function(a){r.push(new e(a,t))})},e.flatten=function(t){var r=[],a="";return t.forEach(function(t){t.tag?(a&&(r.push(new e(a)),a=""),r.push(t)):a+=t.code}),a&&r.push(new e(a)),r},e.M="C_H_L",e}();e.Code=t}(CodeHighlight||(CodeHighlight={}));var CodeHighlight;!function(e){function t(t){e.TemplateManager.loadTemplate(t)}function r(t){e.TemplateManager.addTemplate(t)}function a(t){t?e.highlight(t):(e.highlight(document.getElementsByTagName("script")),e.highlight(document.getElementsByTagName("code")))}function n(t){for(var r=t.length;r--;){var a=t[r],n=a.getAttribute("type");if(/^code\/.+$/.test(n)){var i=n.split("/")[1],s=e.TemplateManager.getTemplate(i);if(s){var o='<div class="title">'+(a.title?a.title+" / ":"")+i+"</div>",l=a.innerHTML.replace(/^[\s]*?\n|\r|[\s\r\n]*$/g,"").split(/\n/g),c=1/0;l.forEach(function(e,t){l[t]=e=e.replace(/^[ \t]+/,function(e){return e.replace(/\t/g,"    ")});var r=/^(\s*)/.exec(e);r[1]&&(c=Math.min(r[1].length,c))});var d=new RegExp("^\\s{"+c+"}|[\\s]*$","g");l.forEach(function(e,t){l[t]=e.replace(d,"")});var g=[new e.Code(l.join("\n"))],p=[];g.forEach(function(e){e.markNoCodeAndStore(s.defNoCode,p)}),g=e.Code.flatten(p),s.defAsCode.forEach(function(t){p=[],g.forEach(function(e){e.markCodeAndStore(t,p)}),g=e.Code.flatten(p)});for(var h="",u=1,u=1,f=l.length;f>=u;u++)h+="<div>"+u+"</div>";var m=document.createElement("div");m.setAttribute("class","chl"),m.setAttribute("title",a.title),m.innerHTML=o+'<code><div class="no">'+h+'</div><div class="code"><div>'+g.join("")+"</div></div></code>",a.parentElement.insertBefore(m,a),a.remove()}}}}e.loadTemplate=t,e.addTemplate=r,e.execute=a,e.highlight=n}(CodeHighlight||(CodeHighlight={}));var CodeHighlight;!function(e){var t=function(){function t(){}return t.loadTemplate=function(t){var r=new XMLHttpRequest;r.onreadystatechange=function(t){if(4===r.readyState&&200===r.status){var a=document.createElement("script");a.innerHTML=r.responseText,document.body.appendChild(a),e.execute()}},r.open("GET",t,!0),r.send(null)},t.addTemplate=function(e){var r=!1;t.templates.forEach(function(a,n){a.lang===e.lang&&(t.templates.splice(n,1,e),r=!0)}),r||t.templates.push(e)},t.getTemplate=function(e){if(!e)return null;e=e.toLowerCase();for(var r,a=t.templates.length;a--;)if(t.templates[a].lang.test(e)){r=t.templates[a];break}return r&&r.defNoCode.forEach(function(e){e.regex.global&&(e.regex=new RegExp(e.regex.source))}),r},t.templates=[],t}();e.TemplateManager=t}(CodeHighlight||(CodeHighlight={})),CodeHighlight.addTemplate({version:"0.0.1",lang:/^(?:stylesheet|css[\d]*|less)$/i,defAsCode:[{"class":"builtin",regex:/(^|[;{\r\n])([\s]*)(.*?):/g,str:"$1$2`$3`:"},{"class":"literal",regex:/#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3}|rgb[a]?\([^\)]*?\)/g,fnc:function(e){return"C_H_L"+e+'<span class="color-block" style="background:'+e+';"></span>C_H_L'}},{"class":"keyword",regex:/(^.*?)\{/,str:"`$1`{"},{"class":"literal",regex:/:(.*?)([;\r\n])/g,str:":`$1`$2"}],defNoCode:[{"class":"comment",start:/\/\*/,regex:/(\/\*[\w\W]+?\*\/)/},{"class":"comment",start:/\/\//,regex:/(\/\/.*?)([\r\n]+|$)/,str:"`$1`$2"},{"class":"literal",escape:"\\",start:/['"]/,regex:/(['"])(\1|.*?[^\\]\1)/,str:"`$1$2`"}]}),CodeHighlight.addTemplate({version:"0.0.1",lang:/^(?:html)$/i,defAsCode:[{"class":"keyword",regex:/<(\s*\w+)/g,str:"<`$1`"},{"class":"keyword",regex:/(<\/)(\w+)(>)/g,str:"$1`$2`$3"}],defNoCode:[{"class":"comment",start:/<!--/,regex:/(<!--[\w\W]*?-->)/g},{"class":"literal",escape:"\\",start:/['"`]/,regex:/(['"`])(.*?[^\\]\1)/,str:"`$1$2`"}]}),CodeHighlight.addTemplate({version:"0.0.1",lang:/^(?:js|javascript|ecma(?:script)?\d*|es\d*|ts|typescript)$/i,defAsCode:[{"class":"premitive",regex:/([\W])([+\-]?[\d\.]+)/g,str:"$1`$2`"},{"class":"premitive",regex:/\b(true|false|NaN|null|undefined|void|Infinity)\b/g},{"class":"keyword",regex:/\b(break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|this|throw|try|typeof|var|while|with|class|enum|export|extends|import|super|implements|interface|let|package|private|protected|public|static|yield)\b/g},{"class":"builtin",regex:/\b(escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|Array|Boolean|Date|Error|EvalError|Function|JSON|Math|Number|Object|RegExp|ReferenceError|RangeError|String|SyntaxError|TypeError|URIError|console|debugger)\b/g}],defNoCode:[{"class":"comment",start:/\/\*/,regex:/(\/\*[\w\W]+?\*\/)/},{"class":"comment",start:/\/\//,regex:/(\/\/.*?)([\r\n]+|$)/,str:"`$1`$2"},{"class":"literal",escape:"\\",start:/['"`]/,regex:/(['"`])(\1|.*?[^\\]\1)/,str:"`$1$2`"},{"class":"regexp",start:/[\b]*\/[^\*\/].*?[^\\]\/[gim]*\b/,regex:/[\b]*(\/.*?[^\\]\/[gim]*)\b/}]});
"use strict";!function(o){var t=o.Keisoku=o.Keisoku||{};t.time=function(o){if(console.time(o.title),Array.isArray(o.args))for(var t=o.loopCount;t--;)o.args.forEach(function(t){o.func(o.context,t)});else for(var t=o.loopCount;t--;)o.func(o.context,o.args);console.timeEnd(o.title)}}(window);