// 記事テンプレート
extends ../template.jade

// 記事のタイトルをココに
block title
	title codehighlight.jsについて

// 記事本文
block contents
	h1 codehighlight.jsについて
	section
		h1 codehighlight.jsとは
		div.
			JavascriptやCSSのソースを、いい感じにハイライト表示してくれるJavascriptです。
			すでに有名どころとして<code>Syntax Highlighter</code>や<code>highlight.js</code>がありますが、<code>&lt;</code>や<code>&gt;</code>はサニタイズする必要があり、そのまま貼り付けられないので面倒。
		div というわけで、簡単に作れるかな？と思い
		ul
			li 外部ライブラリを使用しない
			li Typescriptで書く
			li とにかく軽く
		div をコンセプトに作成しました。

	section
		h1 そして作ってみた
		div.
			実際に作ってみたところ、意外とめんどくさい。最初は正規表現でちゃっちゃとイケるでしょと思ってた。
		div.
			ところがそう簡単にはいかない。
			例えばJavascriptのコメントは<code>//</code>から始まってればコメントだよねと思いきや、文字列の中に出てくるヤツもいる。
			<code>"〜"</code>なら文字列だよねと思いきや、正規表現リテラルの中にザラに出現する。

		div.
			そんなこんなを乗り越えて、codehighlight.jsはとりあえず完成しました。
			業務の間に、なんだかんだで1週間くらいかかった。

	section
		h1 bower対応
		div codehighlight.jsと勉強会資料とはプロジェクトを分けたので、いちいちファイルコピーしなくてもいいようにbowerに登録してみた。
		div
			code > bower install codehighlight.js

		div でインストールできます。
		div しかし、修正のたびにいちいち
		ul
			li bowerにバージョン情報を登録する
			li githubにpush
			li bower update
		div の手順がかえって面倒になって、開発環境では結局シンボリックリンクにしてしまいました。

	section
		h1 作ってみて、感想
		div.
			bower公開するということで、github上にソースがさらされることになります。
			「見られても良いコード」を意識しましたが途中で面倒になりました。
			どうせ誰も見ないよ。
			あそことあそことあそこはそのうち直そう。。。

	section
		h1 github公開中
		div codehighlight.jsはgithubで公開しています。

		div
			| バージョン情報は
			code > bower info codehighlight.js
			| で確認できます。

		+exlink('codehighlight.js(github)','https://github.com/TOMO-YOSHIDA/codehighlight.js')
		+exlink('highlight.js', 'https://highlightjs.org/')
		+exlink('SyntaxHighlighter', 'http://alexgorbatchev.com/SyntaxHighlighter/')

// ライター情報
block writer
	include ../persons/TomoYoshida